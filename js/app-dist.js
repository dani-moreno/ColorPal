function cambiarValor(a,t,e,s){$nuevo=a.val(),0===$nuevo.length&&($nuevo=0),$perc="",s&&($perc="%"),$nuevo>=t&&($nuevo=t),$(":root").css(e,$nuevo+$perc),a.val($nuevo)}function crearColores(a,t,e,s){isNaN(t)&&(t=0),isNaN(e)&&(e=0),isNaN(s)&&(s=0);for(var o=a;0<o;o--)$new_h=Math.max(0,parseInt($("#hue").val())+t*o),$new_s=Math.max(0,parseInt($("#sat").val())-e*o),$new_l=Math.max(0,parseInt($("#lig").val())+s*o),$(".color").before("<div class='l-color' id='l-"+o+"'></div>"),$bg="hsl("+$new_h+","+$new_s+"%,"+$new_l+"%)",$("#l-"+o).attr("style","background:"+$bg)}function crearColoresC(a,t,e,s){isNaN(t)&&(t=0),isNaN(e)&&(e=0),isNaN(s)&&(s=0);for(var o=a;0<o;o--)$new_h=Math.max(0,parseInt($("#hue").val())+t*o),$new_s=Math.max(0,parseInt($("#sat").val())-e*o),$new_l=Math.max(0,parseInt($("#lig").val())-s*o),$(".color").after("<div class='d-color' id='d-"+o+"'></div>"),$bg="hsl("+$new_h+","+$new_s+"%,"+$new_l+"%)",$("#d-"+o).attr("style","background:"+$bg)}function crearClaros(){$miv=$("#l-amount").val(),10<$miv&&($miv=10),0<$miv?($(".l-color").remove(),crearColores($miv,parseInt($("#l-hue").val()),parseInt($("#l-sat").val()),parseInt($("#l-lig").val()))):$(".l-color").remove()}function crearOscuros(){$miv=$("#d-amount").val(),10<$miv&&($miv=10),0<$miv?($(".d-color").remove(),crearColoresC($miv,parseInt($("#d-hue").val()),parseInt($("#d-sat").val()),parseInt($("#d-lig").val()))):$(".d-color").remove()}function cerrarModal(){$(".colores > div").removeClass("active"),$(".modal").removeClass("abierto")}function escribirCSS(a){if(0==a?($cvar=$("#css-var"),$clas=$("#css-clas"),$vtxt=":root {\n",$ini="  --",$csi="var(--",$csf=")"):($cvar=$("#scss-var"),$clas=$("#scss-clas"),$vtxt="",$ini="$",$csi="$",$csf=""),$name=$("#nombre").val(),0===$name.length&&($name="color-name"),$name=$name.toLowerCase().replace(" ","").replace("%",""),$f=0,$("#code-rgb").hasClass("active")&&($f=1),$cog_h=$("#hue").val(),$cog_s=$("#sat").val(),$cog_l=$("#lig").val(),0==$f?$vtxt+=$ini+$name+":hsl("+$cog_h+","+$cog_s+"%,"+$cog_l+"%);":($c=hslToRgb(parseInt($cog_h)/360,parseInt($cog_s)/100,parseInt($cog_l)/100),$vtxt+=$ini+$name+":rgb("+$c[0]+","+$c[1]+","+$c[2]+");"),$lamount=parseInt($("#l-amount").val()),isNaN($lamount)&&($lamount=0),0!=$lamount){$vtxt+="\n\n";for(var t=1;t<=$lamount;t++)$min="#l-"+t,$estilo=$($min).attr("style"),0==$f?($estilo=$estilo.replace("background:",""),$vtxt+=$ini+$name+"-light-"+t+":"+$estilo+";"):($estilo=$estilo.substring(15),$valores=$estilo.split(","),$ph=$valores[0],$ps=$valores[1],$pl=$valores[2],$c=hslToRgb(parseInt($ph)/360,parseInt($ps.replace("%",""))/100,parseInt($pl.replace("%)",""))/100),$vtxt+=$ini+$name+"-light-"+t+":rgb("+$c[0]+","+$c[1]+","+$c[2]+");"),t!=$lamount&&($vtxt+="\n")}if($damount=parseInt($("#d-amount").val()),isNaN($damount)&&($damount=0),0!=$damount){$vtxt+="\n\n";for(t=1;t<=$damount;t++)$min="#d-"+t,$estilo=$($min).attr("style"),0==$f?($estilo=$estilo.replace("background:",""),$vtxt+=$ini+$name+"-dark-"+t+":"+$estilo+";"):($estilo=$estilo.substring(15),$valores=$estilo.split(","),$ph=$valores[0],$ps=$valores[1],$pl=$valores[2],$c=hslToRgb(parseInt($ph)/360,parseInt($ps.replace("%",""))/100,parseInt($pl.replace("%)",""))/100),$vtxt+=$ini+$name+"-dark-"+t+":rgb("+$c[0]+","+$c[1]+","+$c[2]+");"),t!=$damount&&($vtxt+="\n")}if(0==a&&($vtxt+="\n}"),$cvar.text($vtxt),$ctxt="/* Backgrounds */\n",$ttxt="\n/* Text color */\n",$ctxt+=".bg-"+$name+" { background: "+$csi+$name+$csf+"; }",$ttxt+=".text-"+$name+" { color: "+$csi+$name+$csf+"; }",$lamount=parseInt($("#l-amount").val()),isNaN($lamount)&&($lamount=0),0!=$lamount){$ctxt+="\n\n",$ttxt+="\n\n";for(t=1;t<=$lamount;t++)$nomb=$name+"-light-"+t,$ctxt+=".bg-"+$nomb+" { background: "+$csi+$nomb+$csf+"; }",$ttxt+=".text-"+$nomb+" { color: "+$csi+$nomb+$csf+"; }",t!=$lamount&&($ctxt+="\n",$ttxt+="\n")}if($damount=parseInt($("#d-amount").val()),isNaN($damount)&&($damount=0),0!=$damount){$ctxt+="\n\n",$ttxt+="\n\n";for(t=1;t<=$damount;t++)$nomb=$name+"-dark-"+t,$ctxt+=".bg-"+$nomb+" { background: "+$csi+$nomb+$csf+"; }",$ttxt+=".text-"+$nomb+" { color: "+$csi+$nomb+$csf+"; }",t!=$damount&&($ctxt+="\n",$ttxt+="\n")}$clas.text($ctxt+"\n\n"+$ttxt)}function paletaSketch(){if($data="",$data+='{"compatibleVersion":"2.0","pluginVersion":"2.21","colors":[',$name=$("#nombre").val(),0===$name.length&&($name="color-name"),$name=$name.toLowerCase().replace(" ","").replace("%",""),$lamount=parseInt($("#l-amount").val()),isNaN($lamount)&&($lamount=0),$damount=parseInt($("#d-amount").val()),isNaN($damount)&&($damount=0),0!=$lamount)for(var a=$lamount;0<a;a--)$min="#l-"+a,$estilo=$($min).attr("style"),$estilo=$estilo.substring(15),$valores=$estilo.split(","),$ph=$valores[0],$ps=$valores[1],$pl=$valores[2],$c=hslToRgb(parseInt($ph)/360,parseInt($ps.replace("%",""))/100,parseInt($pl.replace("%)",""))/100),$data+="{",$data+='"name":"'+$name+"-light-"+a+'",',$data+='"red":'+$c[0]/255+",",$data+='"green":'+$c[1]/255+",",$data+='"blue":'+$c[2]/255+",",$data+='"alpha":1',$data+="},";if($data+="{",$cog_h=$("#hue").val(),$cog_s=$("#sat").val(),$cog_l=$("#lig").val(),$c=hslToRgb(parseInt($cog_h)/360,parseInt($cog_s)/100,parseInt($cog_l)/100),$data+='"name":"'+$name+'",',$data+='"red":'+$c[0]/255+",",$data+='"green":'+$c[1]/255+",",$data+='"blue":'+$c[2]/255+",",$data+='"alpha":1',0!=$lamount||0!=$damount?$data+="},":$data+="}",0!=$damount)for(a=1;a<=$damount;a++)$min="#d-"+a,$estilo=$($min).attr("style"),$estilo=$estilo.substring(15),$valores=$estilo.split(","),$ph=$valores[0],$ps=$valores[1],$pl=$valores[2],$c=hslToRgb(parseInt($ph)/360,parseInt($ps.replace("%",""))/100,parseInt($pl.replace("%)",""))/100),$data+="{",$data+='"name":"'+$name+"-dark-"+a+'",',$data+='"red":'+$c[0]/255+",",$data+='"green":'+$c[1]/255+",",$data+='"blue":'+$c[2]/255+",",$data+='"alpha":1',a<$damount?$data+="},":$data+="}";$data+="]}",$(".opciones a").attr("href","data:text/json;charset=utf-8,"+encodeURIComponent($data)),$(".opciones a").attr("download",$name+".sketchpalette")}function hslToRgb(a,t,e){function s(a,t,e){return e<0&&(e+=1),1<e&&(e-=1),e<1/6?a+6*(t-a)*e:e<.5?t:e<2/3?a+(t-a)*(2/3-e)*6:a}var $,o,l;if(0==t)$=o=l=e;else{var r=e<.5?e*(1+t):e+t-e*t,c=2*e-r;$=s(c,r,a+1/3),o=s(c,r,a),l=s(c,r,a-1/3)}return[Math.max(0,Math.min(Math.round(255*$),255)),Math.max(0,Math.min(Math.round(255*o),255)),Math.max(0,Math.min(Math.round(255*l),255))]}var clip=new Clipboard(".copy");clip.on("success",function(a){nativeToast({message:"Copied to the clipboard!",timeout:5e3,position:"south"})}),clip.on("error",function(a){nativeToast({message:"Error, try again.",timeout:5e3,position:"south"})}),$("#hue").on("keydown keyup mousewheel",function(){cambiarValor($("#hue"),360,"--i-hue",0),crearClaros(),crearOscuros(),cerrarModal()}),$("#sat").on("keydown keyup mousewheel",function(){cambiarValor($("#sat"),100,"--i-sat",1),crearClaros(),crearOscuros(),cerrarModal()}),$("#lig").on("keydown keyup mousewheel",function(){cambiarValor($("#lig"),100,"--i-lig",1),crearClaros(),crearOscuros(),cerrarModal()}),$("#l-amount").on("keydown keyup mousewheel",function(){crearClaros(),cerrarModal()}),$("#l-hue").on("keydown keyup mousewheel",function(){crearClaros(),cerrarModal()}),$("#l-sat").on("keydown keyup mousewheel",function(){crearClaros(),cerrarModal()}),$("#l-lig").on("keydown keyup mousewheel",function(){crearClaros(),cerrarModal()}),$("#d-amount").on("keydown keyup mousewheel",function(){crearOscuros(),cerrarModal()}),$("#d-hue").on("keydown keyup mousewheel",function(){crearOscuros(),cerrarModal()}),$("#d-sat").on("keydown keyup mousewheel",function(){crearOscuros(),cerrarModal()}),$("#d-lig").on("keydown keyup mousewheel",function(){crearOscuros(),cerrarModal()}),$(".colores").on("click","div",function(a){$(".colores > div").removeClass("active"),$(this).addClass("active"),$(".modal").addClass("abierto"),$offs=$(this).offset(),$wid=1.1*$(this).width(),$(".modal").css({top:$offs.top+96,left:$offs.left+$wid/2-121}),$cog_h=parseInt($("#hue").val()),isNaN($cog_h)&&($cog_h=0),$ph=Math.max(0,$cog_h),$cog_s=parseInt($("#sat").val()),isNaN($cog_s)&&($cog_s=0),$ps=Math.max(0,$cog_s)+"%",$cog_l=parseInt($("#lig").val()),isNaN($cog_l)&&($cog_l=0),$pl=Math.max(0,$cog_l)+"%",$(this).hasClass("color")?$("#btn-hsl").attr("data-clipboard-text","hsl("+$ph+","+$ps+","+$pl+")"):($estilo=$(this).attr("style"),$("#btn-hsl").attr("data-clipboard-text",$estilo),$estilo=$estilo.substring(15),$valores=$estilo.split(","),$ph=$valores[0],$ps=$valores[1],$pl=$valores[2].replace(")","")),$("#m_h").text($ph),$("#m_h").addClass("copy"),$("#m_h").attr("data-clipboard-text",$ph),$("#m_s").text($ps),$("#m_s").addClass("copy"),$("#m_s").attr("data-clipboard-text",$ps.replace("%","")),$("#m_l").text($pl),$("#m_l").addClass("copy"),$("#m_l").attr("data-clipboard-text",$pl.replace("%","")),$color_rgb=hslToRgb(parseInt($ph)/360,parseInt($ps.replace("%",""))/100,parseInt($pl.replace("%",""))/100),$("#m_r").text($color_rgb[0]),$("#m_r").addClass("copy"),$("#m_r").attr("data-clipboard-text",$color_rgb[0]),$("#m_g").text($color_rgb[1]),$("#m_g").addClass("copy"),$("#m_g").attr("data-clipboard-text",$color_rgb[1]),$("#m_b").text($color_rgb[2]),$("#m_b").addClass("copy"),$("#m_b").attr("data-clipboard-text",$color_rgb[2]),$("#btn-rgb").attr("data-clipboard-text","rgb("+$color_rgb[0]+","+$color_rgb[1]+","+$color_rgb[2]+")")}),$(".modal .close").on("click",function(){cerrarModal()}),$(window).on("resize",function(){cerrarModal()}),$("#btn-hsl").on("click",function(a){a.preventDefault()}),$("#btn-rgb").on("click",function(a){a.preventDefault()}),$(function(){crearColores(3,parseInt($("#l-hue").val()),parseInt($("#l-sat").val()),parseInt($("#l-lig").val())),crearColoresC(3,parseInt($("#d-hue").val()),parseInt($("#d-sat").val()),parseInt($("#d-lig").val()))}),$(".export").on("click",function(a){$(".overlay").addClass("show"),$(".menu").addClass("show"),cerrarModal(),$("#format-css").hasClass("active")&&escribirCSS(0),$("#format-scss").hasClass("active")&&escribirCSS(1),a.preventDefault()}),$(".overlay").on("click",function(){$(".overlay").removeClass("show"),$(".menu").removeClass("show")}),$(".menu .close").on("click",function(){$(".overlay").removeClass("show"),$(".menu").removeClass("show")}),$("#t-code").on("click",function(){$(".c-code").hasClass("show")||($(".c-code").addClass("show"),$(".c-sketch").removeClass("show"),$(this).addClass("active"),$("#t-sketch").removeClass("active"),$(".opciones div:nth-child(1)").attr("style","flex-basis:33%;"),$(".opciones div:nth-child(2)").attr("style","display:block;"),$(".opciones div:nth-child(3)").attr("style","display:block;"),$(".opciones div:nth-child(4)").attr("style","display:none;"))}),$("#t-sketch").on("click",function(){$(".c-sketch").hasClass("show")||($(".c-sketch").addClass("show"),$(".c-code").removeClass("show"),$(this).addClass("active"),$("#t-code").removeClass("active"),$(".opciones div:nth-child(1)").attr("style","flex-basis:66%;"),$(".opciones div:nth-child(2)").attr("style","display:none;"),$(".opciones div:nth-child(3)").attr("style","display:none;"),$(".opciones div:nth-child(4)").attr("style","display:block;"),paletaSketch())}),$("#code-hsl").on("click",function(){$(this).hasClass("active")||($(this).addClass("active"),$("#code-rgb").removeClass("active"),$("#format-css").hasClass("active")&&escribirCSS(0),$("#format-scss").hasClass("active")&&escribirCSS(1))}),$("#code-rgb").on("click",function(){$(this).hasClass("active")||($(this).addClass("active"),$("#code-hsl").removeClass("active"),$("#format-css").hasClass("active")&&escribirCSS(0),$("#format-scss").hasClass("active")&&escribirCSS(1))}),$("#format-css").on("click",function(){$(this).hasClass("active")||($(this).addClass("active"),$("#format-scss").removeClass("active"),$(".c-css").css("display","block"),$(".c-scss").css("display","none"),escribirCSS(0))}),$("#format-scss").on("click",function(){$(this).hasClass("active")||($(this).addClass("active"),$("#format-css").removeClass("active"),$(".c-scss").css("display","block"),$(".c-css").css("display","none"),escribirCSS(1))}),$("#nombre").on("change keyup",function(){$("#format-scss").hasClass("active")?escribirCSS(1):escribirCSS(0),$mival=$(this).val(),0!==$mival.length?($(".opciones a").removeAttr("disabled"),paletaSketch()):($(".opciones a").attr("disabled","disabled"),$(".opciones a").attr("href","#"))}),$(".opciones a").on("click",function(a){"#"==$(this).attr("href")&&a.preventDefault()}),$("#logo").on("click",function(a){a.preventDefault()});